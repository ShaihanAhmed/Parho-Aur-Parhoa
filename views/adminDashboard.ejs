<!-- Note : SSR is left by ejs rn a dummy html code to show cleint and get his approvol for admin UI -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Admin Dashboard - ParhoAurParhao</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="/css/admin.css" />
  </head>

  <body>
    <% const Admin = admin || { name: "Admin", role: "Administrator", avatar:
    "https://api.dicebear.com/7.x/avataaars/svg?seed=DefaultAdmin" }; const
    Users = Array.isArray(users) ? users : [ { id: 1 , name: "Jane Cooper",
    role: "Student", email: "jane@example.com", isActive: true }, { id: 2 ,
    name: "Floyd Miles", role: "Student", email: "floyd@example.com", isActive:
    false }, { id: 3 , name: "Ali", role: "Teacher", email: "ali@example.com",
    isActive: false }, { id: 4 , name: "Jerome Bell", role: "Teacher", email:
    "jerome@example.com", isActive: true } ]; const Courses =
    Array.isArray(courses) ? courses : [ { name: "Sample Course 1", createdBy:
    "Admin" }, { name: "Sample Course 2", createdBy: "Admin" } ]; const
    TotalUsers = userCount || Users.length; const ActiveUsers = activeUsers ||
    10; const TotalCourses = courseCount || Courses.length; %>

    <aside class="sidebar" id="sidebar">
      <div class="sidebar-top">
        <div class="logo-title">
          <img
            src="/images/papLogo.jpeg"
            alt="Parho Aur Parhao Logo"
            class="logo-img"
          />

          <h1 class="logo-text">PARHO AUR PARHAO</h1>
        </div>

        <div class="brand">
          <svg
            width="28"
            height="28"
            viewBox="0 0 24 24"
            fill="none"
            aria-hidden
          >
            <path
              d="M12 2l8 4v8l-8 8-8-8V6l8-4z"
              stroke="white"
              stroke-width="1.2"
              fill="none"
            ></path>
          </svg>
          <span class="brand-text"
            >Dashboard <small class="v">v.01</small></span
          >
        </div>

        <nav class="nav">
          <a href="#" class="nav-item active" data-section="dashboard">
            <span class="nav-icon"></span>
            <span class="nav-label">Dashboard</span>
          </a>

          <a href="#" class="nav-item" data-section="users">
            <span class="nav-icon"></span>
            <span class="nav-label">View Users</span>
          </a>

          <a href="#" class="nav-item" data-section="courses">
            <span class="nav-icon"></span>
            <span class="nav-label">View Courses</span>
          </a>
        </nav>
      </div>
    </aside>

    <div class="sidebar-divider"></div>

    <div class="main" id="main">
      <header class="top">
        <div class="greeting">
          <h2>Hello <%= Admin.name %> <span class="wave">ðŸ‘‹</span>,</h2>
        </div>

        <div class="top-right">
          <div class="admin-info-top">
            <img src="/images/papLogo.jpeg" alt="Admin" class="admin-avatar" />
            <div class="admin-details">
              <span class="admin-name"><%= Admin.name %></span>
              <span class="admin-role"><%= Admin.role %></span>
            </div>
          </div>

          <a href="/user/logout" class="logout-btn">Logout</a>

          <button class="hamburger" id="hamburger" aria-label="open menu">
            â˜°
          </button>
        </div>
      </header>

      <section class="summary">
        <div class="card stat">
          <div class="stat-left"><div class="stat-icon">ðŸ‘¥</div></div>
          <div class="stat-right">
            <div class="stat-label">New Users Joining</div>
            <div class="stat-number" data-target="<%= TotalUsers %>">0</div>
          </div>
        </div>

        <div class="card stat">
          <div class="stat-left"><div class="stat-icon">âž•</div></div>
          <div class="stat-right">
            <div class="stat-label">New Courses Added</div>
            <div class="stat-number" data-target="<%= TotalCourses %>">0</div>
          </div>
        </div>

        <div class="card stat">
          <div class="stat-left"><div class="stat-icon">ðŸ’»</div></div>
          <div class="stat-right">
            <div class="stat-label">Active Now</div>
            <div class="stat-number" data-target="<%= ActiveUsers %>">0</div>
            <div class="avatars"></div>
          </div>
        </div>
      </section>

      <section class="content-card">
        <div class="content-card-head">
          <h3>All Users</h3>

          <div class="controls">
            <div class="subtext">Active Members</div>
            <div class="search-small">
              <input type="search" placeholder="Search" />
            </div>
          </div>
        </div>

        <div class="table-wrap">
          <table class="table">
            <thead>
              <tr>
                <th>User Name</th>
                <th>Student/Teacher</th>
                <th>Email</th>
                <th>Status</th>
                <th>Action</th>
              </tr>
            </thead>

            <tbody>
              <% Users.forEach(u => { %>
              <tr>
                <td><%= u.name %></td>
                <td><%= u.role %></td>
                <td><%= u.email %></td>
                <td>
                  <% if (u.isActive) { %>
                  <span class="pill active">Active</span>
                  <% } else { %>
                  <span class="pill inactive">Inactive</span>
                  <% } %>
                </td>
                <td>
                  <button
                    class="delete-btn"
                    onclick="deleteUser('<%= u.id %>')"
                  >
                    Delete
                  </button>
                </td>
              </tr>
              <% }) %>
            </tbody>
          </table>
        </div>

        <div class="table-footer">
          <div class="pages">
            <button class="page">â€¹</button>
            <button class="page active">1</button>
            <button class="page">2</button>
            <button class="page">3</button>
            <button class="page">4</button>
            <button class="page">â€º</button>
          </div>
        </div>
      </section>
    </div>


    <div class="logs-panel">
      <h3 class="logs-title">Action Logs</h3>

      <div class="logs-table-container">
        <table class="logs-table">
          <thead>
            <tr>
              <th>Time</th>
              <th>User Deleted</th>
            </tr>
          </thead>

          <tbody>
            <% logs.forEach((log) => { %>
            <tr>
              <td><%= log.time %></td>
              <td class="deleted-user"><%= log.username %></td>
            </tr>
            <% }); %>
          </tbody>
        </table>
      </div>
    </div>

    <script src="/js/admin.js"></script>
  </body>
</html>

<!-- this is fall back pimt 2 -->

